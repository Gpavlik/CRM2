<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>–ö–∞—Ä—Ç–∫–∞ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä—ñ—ó</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0; padding: 0;
      background: linear-gradient(135deg, #006400, #004d00);
      color: #fff;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    h1 { margin-top: 30px; }
    form {
      max-width: 1200px;
      width: 95%;
      margin: 20px auto;
      padding: 20px;
      background: #008000;
      border-radius: 12px;
      box-shadow: 0 0 20px rgba(0,0,0,0.6);
    }
    form label { display: block; margin: 12px 0; }
    input {
      width: 98%; padding: 8px;
      border-radius: 6px; border: none;
    }
    .form-actions { margin-top: 20px; }
    .form-actions button, .back-btn {
      margin-right: 10px;
      background: #006400; color: white;
      border: none; cursor: pointer;
      padding: 10px 14px; border-radius: 6px;
      text-decoration: none;
      display: inline-block;
    }
    .form-actions button:hover, .back-btn:hover { background: #003300; }
    .device-block {
      border: 1px solid #ccc; padding: 10px;
      margin-bottom: 12px; background: #fff;
      border-radius: 6px; color: #000;
    }
    #map{
      margin-top: 20px;
      width: 100%;
      height: 300px;
      border: 2px solid #ccc;
      border-radius: 8px;
      background: #eee;
    }
    .device-block {
  background: #f0fff0;
  border: 2px solid #006400;
  border-radius: 10px;
  padding: 16px;
  margin-bottom: 20px;
  color: #000;
  box-shadow: 0 0 10px rgba(0, 100, 0, 0.2);
}

.device-block label {
  display: block;
  margin-top: 10px;
  font-weight: bold;
  color: #004d00;
}

.device-block input,
.device-block select {
  width: 100%;
  padding: 8px;
  margin-top: 4px;
  border-radius: 6px;
  border: 1px solid #ccc;
  background: #fff;
  font-size: 14px;
}

.device-selects {
  display: flex;
  gap: 20px;
  flex-wrap: wrap;
}

.device-selects > div {
  flex: 1 1 45%;
}

.reagent-block,
.analysis-block {
  background: #e6ffe6;
  border: 1px solid #99cc99;
  border-radius: 8px;
  padding: 10px;
  margin-top: 10px;
}

.reagent-block label,
.analysis-block label {
  font-weight: normal;
  color: #003300;
}

#devicesContainer button {
  background: #006400;
  color: white;
  border: none;
  padding: 10px 14px;
  border-radius: 6px;
  cursor: pointer;
  margin-top: 10px;
}

#devicesContainer button:hover {
  background: #003300;
}

fieldset {
  border: 2px solid #006400;
  border-radius: 8px;
  padding: 12px;
  margin-top: 20px;
  background: #e6ffe6;
}

legend {
  font-weight: bold;
  color: #004d00;
}

  </style>
</head>
<link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
<body>
  <img src="../logo.svg" alt="logo" width="220">
  <h1>üß™ –ö–∞—Ä—Ç–∫–∞ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä—ñ—ó</h1>

  <form id="labForm">
  <!-- –û—Å–Ω–æ–≤–Ω—ñ –ø–æ–ª—è -->
  <label>–ù–∞–∑–≤–∞ –ø–∞—Ä—Ç–Ω–µ—Ä–∞: <input type="text" id="partnerName" required></label>
  <label>–û–±–ª–∞—Å—Ç—å: 
    <input type="text" id="region" list="regionList" onchange="fillCityOptions()" required>
    <datalist id="regionList"></datalist>
  </label>
  <label>–ú—ñ—Å—Ç–æ: 
    <input type="text" id="city" list="cityList" onchange="fillLpzOptions()" required>
    <datalist id="cityList"></datalist>
  </label>
  <label>–õ–ü–ó: 
    <input type="text" id="lpz" list="lpzList" onblur="prefillLabData()" required>
    <datalist id="lpzList"></datalist>
  </label>
  <label>–ê–¥—Ä–µ—Å–∞: <input type="text" id="labAddress"></label>
  <label>–ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç: <input type="text" id="contractor"></label>
  <label>–¢–µ–ª–µ—Ñ–æ–Ω: <input type="text" id="phone"></label>
  <label>–Ñ–î–†–ü–û–£: <input type="text" id="labEdrpou"></label>
  <label>–ú–µ–Ω–µ–¥–∂–µ—Ä: <input type="text" id="labManager"></label>

  <!-- –ü—Ä–∏–ª–∞–¥–∏ -->
  <section id="devicesSection" style="display:none;">
    <h2>üîß –ü—Ä–∏–ª–∞–¥–∏</h2>
    <div id="devicesContainer"></div>
    <button type="button" onclick="addDevice()">‚ûï –î–æ–¥–∞—Ç–∏ –ø—Ä–∏–ª–∞–¥</button>
  </section>

  <!-- –ü—Ä–µ–≤‚Äô—é –∑–∞–¥–∞—á -->
  <div id="taskPreview"></div>

  <!-- –ü–ª–∞–Ω—É–≤–∞–Ω–Ω—è –≤—ñ–∑–∏—Ç—É -->
  <fieldset>
    <legend>üìÖ –ü–ª–∞–Ω—É–≤–∞–Ω–Ω—è –≤—ñ–∑–∏—Ç—É</legend>
    <label>–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–∞ –¥–∞—Ç–∞ –≤—ñ–∑–∏—Ç—É:
      <input type="date" id="recommendedVisitDate">
    </label>
    <button type="button" onclick="suggestVisitDate()">üìÖ –ó–∞–ø—Ä–æ–ø–æ–Ω—É–≤–∞—Ç–∏ –¥–∞—Ç—É</button>
  </fieldset>

  <!-- –î—ñ—ó -->
  <div class="form-actions">
    <button type="button" onclick="saveOrUpdateLabCard()">üíæ –ó–±–µ—Ä–µ–≥—Ç–∏ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä—ñ—é</button>
    <a href="./labs.html" class="back-btn">‚¨ÖÔ∏è –ù–∞–∑–∞–¥</a>
  </div>
</form>
  <!-- –ü—ñ–¥–∫–ª—é—á–∞—î–º–æ —Å–ø—ñ–ª—å–Ω—ñ —Å–∫—Ä–∏–ø—Ç–∏ -->
  <script src="labcard.js"></script>
  <script src="logistics.js"></script>
</body>
</html>